
<!-- aws s3 cp ./  -->
<html>
    <head>
        <meta charset="UTF-8">
    </head>

    <style>
        #background {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        #notice {
            font-size: 10rem;
            align-self: center;
        }

        #timer-notice {
            font-size: 6rem;
            align-self: center;
            color: white;
        }
    </style>

    <body>
        <div id="background">
            <p id="notice"></p>
            <p id="timer-notice"></p>
        </div>
    </body>

    <script>
        let backgroundElement = document.getElementById('background');
        let noticeElement = document.getElementById('notice');
        let timerNoticeElement = document.getElementById('timer-notice');
        var audio = new Audio('/cincin.mp3');
        var currentState;
        
        let pad = number => number <= 9 ? `0${number}`.slice(-2) : number;
        let changeState = () => {
            let dateNow = new Date();
            let minutesSecondsLeft = `${pad(59 - dateNow.getMinutes())}:${pad(59 - dateNow.getSeconds())}`
            let changeTrigger = dateNow.getHours() % 2;
            if (changeTrigger) {
                backgroundElement.style.backgroundColor = "#bf0000";
                noticeElement.style.color = 'white';
                noticeElement.innerText = 'Ništa brko!';
                timerNoticeElement.innerText = `vrati se za ${minutesSecondsLeft}`;
            } else {
                backgroundElement.style.backgroundColor = "#0cb000";
                noticeElement.style.color = 'white';
                noticeElement.innerText = 'Može brko!';
                timerNoticeElement.innerText = `imaš još ${minutesSecondsLeft}`;
            }

            if (changeTrigger !== currentState) {
                audio.loop = false;
                audio.play();
                currentState = changeTrigger;
            }
        }

        changeState();
        setInterval(() => changeState(), 1000);
    </script>
</html>
